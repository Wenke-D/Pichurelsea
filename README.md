# Pichurelsea
一个基于Graphics2D的组件库

## 用途
提供Graphic Context上控件，如TextRow(单行文本)、TextArea(多行文本)、ImageContainer(图片容器)，

主要用处是在BufferedImage上画控件

可以自行组合成基础控件，实现Component接口，制造更复杂的控件，  
比如组合图片容器和多行文本得到Thumbnail, 组合多个Thumbnail得到长图, etc..



## 说明
每个控件在初始化后都可以得到其属性、如最重要的长度、宽度，
关于文本的控件可以设置字体  
初始化完毕后调用draw传入Graphics2D和坐标就可以实现绘制  
顶级组件调用createImage()方法即可得到BufferedImage


## 碎碎念
### TextArea(多行文本)
实现的时候，最难的其实是TextArea(多行文本)，最初就是为了管理多行文本的绘制才逐渐写出来这玩意，
在分行的时候，并不能像word那么高级可以自动调整字间距以保证行宽相等，这里尽可以保证在中英文混写的情况下，
不会截断单词。

### 组合控件
关于组合控件的绘制，最原始的办法就是把每个控件都保存成BufferedImage然后交给上层组件的Graphics2D再画一遍  
但是这种效率太低了，时间复杂度感觉快有O(n!)了，虽然真实情况下，达不到这么高，因为子组件一般都比父级组件要小，  
而且我算的复杂度好像也不对，对不起算法的老师。  

优化后，每个组件的内部都保存了绘制时需要的数据，  
在顶级父组件绘制的时候，使用父组件的Graphics2D一次全部画完，除非组件在有位置上重叠，如背景色，否则时间复杂度就只有O(n)
